Java Library for WordReference.com
==================================

Java6 library and command line client for WordReference web API:
 - supports API version 0.8
 - supports JSON (avoid the parse HTML hell) 
 - supports GZIP compression of JSON (2x faster than plain text) 


Prerequisites
-------------

- JDK6
- Mave
- wordreference API key 
    http://www.wordreference.com/docs/APIregistration.aspx


Howto for the command line client
---------------------------------

$ mvn compile assembly:single
$ WR_API_KEY=yourapikey java -jar target/wrcli.jar iten nebbia
category 'original':
 nebbia marina, foschia marina   
   sea mist   
 camera a nebbia   
   cloud chamber   
 avvolto nella nebbia   
   mist-shrouded   
 avvolgere nella nebbia v  
   hide  cover with fog 
 sirena da nebbia nf  
   foghorn  nautical 
 nella foschia, nella nebbia   
   in a mist   
category 'term0':
 nebbia nf  
   fog   
Note: 

iten is the Italian->English dictionary. See 
http://www.wordreference.com/docs/api.aspx for the complete list of
supported dictionaries.


Installation
------------

$ mvn compile assembly:single
$ sudo cp target/wrcli.jar /usr/local/bin
$ # add your API key to bin/wrcli
$ sudo cp bin/wrcli /usr/local/bin 


TODO
----

- improve installation (e.g. distribute a binary package)
- filtering translations by category 
- support for thesaurus (required a new JSON parser)
- handle HTTP 400 error: $ wrcli enit '%'                                     Exception in thread "main" java.lang.RuntimeException: I/O error
        at com.humaorie.wr.api.GzippedJsonOverHttpRepository.lookup(GzippedJsonOverHttpRepository.java:36)
        at com.humaorie.wr.api.DefaultWordReference.fetchAndParse(DefaultWordReference.java:28)
        at com.humaorie.wr.api.DefaultWordReference.lookup(DefaultWordReference.java:21)
        at com.humaorie.wr.cli.CommandLineClient.run(CommandLineClient.java:34)
        at com.humaorie.wr.cli.Main.main(Main.java:19)
Caused by: java.io.IOException: Server returned HTTP response code: 400 for URL: http://api.wordreference.com/0.8/0faf5/json/enit/%
        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1436)
        at com.humaorie.wr.api.GzippedJsonOverHttpRepository.lookup(GzippedJsonOverHttpRepository.java:28)
        ... 4 more
